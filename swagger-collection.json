{"openapi":"3.0.0","paths":{"/user/me":{"get":{"operationId":"UsersController_findMe","summary":"Отримати інформацію про мене","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResDto"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"example":{"statusCode":401,"messages":"Unauthorized","timestamp":"Wed, 25 Jun 2025 20:38:22 GMT","path":"/user/me"}}}},"403":{"description":"Forbidden"}},"tags":["3.User"],"security":[{"bearer":[]}]},"patch":{"operationId":"UsersController_updateMe","summary":"Оновити інформацію про мене","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserSelfUpdateReqDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResDto"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}},"tags":["3.User"],"security":[{"bearer":[]}]},"delete":{"operationId":"UsersController_removeMe","summary":"Видалити мій аккаунт","parameters":[],"responses":{"204":{"description":"User successfully removed"},"401":{"description":"Unauthorised"},"403":{"description":"Forbidden"}},"tags":["3.User"],"security":[{"bearer":[]}]}},"/user/me/avatar":{"post":{"operationId":"UsersController_uploadAvatar","parameters":[],"requestBody":{"required":true,"description":"Upload a user avatar image. The file should be in JPG, JPEG, PNG, GIF, or WEBP format and should not exceed 0.3MB.","content":{"multipart/form-data":{"schema":{"type":"object","required":[],"properties":{"avatar":{"type":"string","format":"binary","description":"The image file to upload."}}}}}},"responses":{"204":{"description":"Avatar saved successfully"},"413":{"description":"Filesize is more than 0.3MB","content":{"application/json":{"example":{"statusCode":413,"messages":"File too large","timestamp":"2024-10-09T17:21:35.763Z","path":"/user/me/avatar"}}}}},"tags":["3.User"],"security":[{"bearer":[]}]},"delete":{"operationId":"UsersController_deleteAvatar","parameters":[],"responses":{"204":{"description":"Avatar deleted successful"}},"tags":["3.User"],"security":[{"bearer":[]}]}},"/user":{"get":{"operationId":"UsersController_getAllUsers","summary":"Отримати всіх користувачів (тільки для адміністраторів)","parameters":[{"name":"limit","required":true,"in":"query","schema":{"minimum":1,"maximum":100,"default":10,"type":"number"}},{"name":"page","required":true,"in":"query","schema":{"minimum":1,"default":1,"type":"number"}},{"name":"role","required":false,"in":"query","schema":{"enum":["user","admin"],"type":"string"}},{"name":"user_id","required":false,"in":"query","schema":{"type":"string"}},{"name":"search","required":false,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":""},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}},"tags":["3.User"],"security":[{"bearer":[]}]}},"/user/{id}":{"delete":{"operationId":"UsersController_deleteUser","summary":"Видалення користувача (тільки для адміністраторів)","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""},"204":{"description":"User deleted successfully"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}},"tags":["3.User"],"security":[{"bearer":[]}]}},"/admin/user":{"post":{"operationId":"AdminController_createUser","summary":"Створити нового адміністратора(Тільки для адміністраторів)","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreateByAdminReqDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResDto"}}}}},"tags":["2.Admin"],"security":[{"bearer":[]}]}},"/admin/{user_id}/user":{"patch":{"operationId":"AdminController_updateUser","summary":"Оновити дані/роль користувача по ід(Тільки для адміністраторів)","parameters":[{"name":"user_id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdateByAdminReqDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResDto"}}}}},"tags":["2.Admin"],"security":[{"bearer":[]}]}},"/auth/sing-up":{"post":{"operationId":"AuthController_singUp","summary":"Реєстрація користувача","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserSingUpReqDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["1.Authorization"]}},"/auth/sing-in":{"post":{"operationId":"AuthController_singIn","summary":"Вхід","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserSingInReqDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthResDto"}}}}},"tags":["1.Authorization"]}},"/auth/forgot-password":{"post":{"operationId":"AuthController_forgotPassword","summary":"Отримати токен для скидання паролю","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForgotPasswordReqDto"}}}},"responses":{"201":{"description":""}},"tags":["1.Authorization"]}},"/auth/reset-password":{"post":{"operationId":"AuthController_resetPassword","summary":"Скинути пароль за токеном","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResetPasswordReqDto"}}}},"responses":{"201":{"description":""}},"tags":["1.Authorization"]}},"/auth/refresh":{"post":{"operationId":"AuthController_refresh","parameters":[],"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenPairResDto"}}}}},"tags":["1.Authorization"],"security":[{"bearer":[]}]}},"/auth/sign-out":{"post":{"operationId":"AuthController_signOut","summary":"Вийти з аккаунту","parameters":[],"responses":{"201":{"description":""}},"tags":["1.Authorization"],"security":[{"bearer":[]}]}},"/upload":{"post":{"operationId":"UploadController_uploadFile","parameters":[],"responses":{"201":{"description":""}},"security":[{"bearer":[]}]}},"/clinics":{"get":{"operationId":"ClinicsController_findAll","summary":"Отримати список всіх клінік","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ClinicEntity"}}}}}},"tags":["4. Clinics"]},"post":{"operationId":"ClinicsController_create","summary":"Створити нову клініку(тільки для адміністраторів)","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateClinicDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClinicEntity"}}}}},"tags":["4. Clinics"],"security":[{"bearer":[]}]}},"/clinics/search":{"get":{"operationId":"ClinicsController_search","summary":"Пошук клінік по назві","parameters":[{"name":"name","required":false,"in":"query","description":"Пошук за частиною назви клініки","schema":{"type":"string"}},{"name":"sortBy","required":false,"in":"query","schema":{"enum":["name","id"],"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ClinicEntity"}}}}}},"tags":["4. Clinics"]}},"/doctors":{"get":{"operationId":"DoctorsController_findAll","summary":"Отримати список всіх лікарів","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/DoctorEntity"}}}}}},"tags":["5. Doctors"]},"post":{"operationId":"DoctorsController_create","summary":"Створити нового лікаря (тільки для адміністраторів)","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateDoctorDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DoctorEntity"}}}}},"tags":["5. Doctors"],"security":[{"bearer":[]}]}},"/doctors/search":{"get":{"operationId":"DoctorsController_search","summary":"Пошук лікарів по (імені, прізвищу, email, телефону)","parameters":[{"name":"query","required":false,"in":"query","description":"Пошук по імені, прізвищу, email, телефону","schema":{"type":"string"}},{"name":"sortBy","required":false,"in":"query","schema":{"enum":["first_name","last_name"],"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/DoctorEntity"}}}}}},"tags":["5. Doctors"]}},"/doctors/{id}":{"put":{"operationId":"DoctorsController_update","summary":"Оновити інформацію про лікаря (тільки для адміністраторів)","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateDoctorDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DoctorEntity"}}}}},"tags":["5. Doctors"],"security":[{"bearer":[]}]},"delete":{"operationId":"DoctorsController_remove","summary":"Видалити лікаря (тільки для адміністраторів)","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["5. Doctors"],"security":[{"bearer":[]}]}},"/services":{"get":{"operationId":"ServicesController_findAll","summary":"Отримати всі доступні послуги","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ServiceEntity"}}}}}},"tags":["6.Services"]},"post":{"operationId":"ServicesController_create","summary":"Створити нову послугу (тільки для адміністраторів)","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateServiceDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ServiceEntity"}}}}},"tags":["6.Services"],"security":[{"bearer":[]}]}},"/services/search":{"get":{"operationId":"ServicesController_search","summary":"Пошук послуг за частиною назви","parameters":[{"name":"name","required":false,"in":"query","description":"Пошук за частиною назви послуги","schema":{"type":"string"}},{"name":"sortBy","required":false,"in":"query","schema":{"enum":["name","id"],"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ServiceEntity"}}}}}},"tags":["6.Services"]}},"/services/{id}":{"delete":{"operationId":"ServicesController_delete","summary":"Видалити послугу (тільки для адміністраторів)","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["6.Services"],"security":[{"bearer":[]}]}}},"info":{"title":"Медична платформа","description":"API для клінік, лікарів і послуг","version":"1.0","contact":{}},"tags":[],"servers":[],"components":{"securitySchemes":{"bearer":{"scheme":"bearer","bearerFormat":"JWT","type":"http","in":"headers"}},"schemas":{"UserResDto":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"first_name":{"type":"string","description":"Users first name"},"last_name":{"type":"string","description":"Users last name","example":"Doe"},"email":{"type":"string","example":"customer@gmail.com"},"phone":{"type":"string","example":"+30888888888"},"role":{"enum":["user","admin"],"type":"string"},"avatar_image":{"type":"string"},"created":{"format":"date-time","type":"string"},"updated":{"format":"date-time","type":"string"}},"required":["id","email","phone","role","created","updated"]},"UserSelfUpdateReqDto":{"type":"object","properties":{"first_name":{"type":"string","minLength":3,"maxLength":20,"pattern":"/^[а-яА-ЯїЇєЄіІa-zA-Z]+$/","description":"Users first name","example":"Іван"},"last_name":{"type":"string","minLength":3,"maxLength":20,"pattern":"/^[а-яА-ЯїЇєЄіІa-zA-Z]+$/","description":"Users last name","example":"Петренко"},"phone":{"type":"string","description":"User phone number","example":"+381234567000"}}},"UserCreateByAdminReqDto":{"type":"object","properties":{"first_name":{"type":"string","minLength":3,"maxLength":20,"pattern":"/^[а-яА-ЯїЇєЄіІa-zA-Z]+$/","description":"Users first name","example":"Іван"},"last_name":{"type":"string","minLength":3,"maxLength":20,"pattern":"/^[а-яА-ЯїЇєЄіІa-zA-Z]+$/","description":"Users last name","example":"Петренко"},"email":{"type":"string","pattern":"/^[\\w-]+(\\.[\\w-]+)*@([\\w-]+\\.)+[a-zA-Z]{2,7}$/","example":"customer@gmail.com"},"password":{"type":"string","minLength":6,"maxLength":16,"example":"simplePassword"},"phone":{"type":"string","description":"User phone number","example":"+381234567000"},"role":{"type":"string","enum":["user","admin"]}},"required":["first_name","last_name","email","password","phone"]},"UserUpdateByAdminReqDto":{"type":"object","properties":{"first_name":{"type":"string","minLength":3,"maxLength":20,"pattern":"/^[а-яА-ЯїЇєЄіІa-zA-Z]+$/","description":"Users first name","example":"Іван"},"last_name":{"type":"string","minLength":3,"maxLength":20,"pattern":"/^[а-яА-ЯїЇєЄіІa-zA-Z]+$/","description":"Users last name","example":"Петренко"},"phone":{"type":"string","description":"User phone number","example":"+381234567000"},"role":{"type":"string","enum":["user","admin"]}}},"UserSingUpReqDto":{"type":"object","properties":{"first_name":{"type":"string","minLength":3,"maxLength":20,"pattern":"/^[а-яА-ЯїЇєЄіІa-zA-Z]+$/","description":"Users first name","example":"Іван"},"last_name":{"type":"string","minLength":3,"maxLength":20,"pattern":"/^[а-яА-ЯїЇєЄіІa-zA-Z]+$/","description":"Users last name","example":"Петренко"},"email":{"type":"string","pattern":"/^[\\w-]+(\\.[\\w-]+)*@([\\w-]+\\.)+[a-zA-Z]{2,7}$/","example":"customer@gmail.com"},"password":{"type":"string","minLength":6,"maxLength":16,"example":"simplePassword"},"phone":{"type":"string","description":"User phone number","example":"+381234567000"}},"required":["first_name","last_name","email","password","phone"]},"UserSingInReqDto":{"type":"object","properties":{"email":{"type":"string","pattern":"/^[\\w-]+(\\.[\\w-]+)*@([\\w-]+\\.)+[a-zA-Z]{2,7}$/","example":"customer@gmail.com"},"password":{"type":"string","minLength":6,"maxLength":16,"example":"simplePassword"}},"required":["email","password"]},"TokenPairResDto":{"type":"object","properties":{"refresh":{"type":"string"},"access":{"type":"string"}},"required":["refresh","access"]},"AuthResDto":{"type":"object","properties":{"tokens":{"$ref":"#/components/schemas/TokenPairResDto"},"user":{"$ref":"#/components/schemas/UserResDto"}},"required":["tokens","user"]},"ForgotPasswordReqDto":{"type":"object","properties":{"email":{"type":"string"}},"required":["email"]},"ResetPasswordReqDto":{"type":"object","properties":{"token":{"type":"string"},"newPassword":{"type":"string","minLength":6}},"required":["token","newPassword"]},"ServiceEntity":{"type":"object","properties":{"id":{"type":"number"},"name":{"type":"string"},"description":{"type":"string"},"doctors":{"type":"array","items":{"$ref":"#/components/schemas/DoctorEntity"}}},"required":["id","name","description","doctors"]},"ClinicEntity":{"type":"object","properties":{"id":{"type":"number"},"name":{"type":"string"},"doctors":{"type":"array","items":{"$ref":"#/components/schemas/DoctorEntity"}},"services":{"type":"array","items":{"$ref":"#/components/schemas/ServiceEntity"}}},"required":["id","name","doctors"]},"DoctorEntity":{"type":"object","properties":{"id":{"type":"number"},"first_name":{"type":"string"},"last_name":{"type":"string"},"email":{"type":"string"},"phone":{"type":"string"},"clinics":{"type":"array","items":{"$ref":"#/components/schemas/ClinicEntity"}},"services":{"type":"array","items":{"$ref":"#/components/schemas/ServiceEntity"}}},"required":["id","first_name","last_name","email","phone","clinics","services"]},"CreateClinicDto":{"type":"object","properties":{"name":{"type":"string"},"doctorIds":{"type":"array","items":{"type":"number"}}},"required":["name"]},"CreateDoctorDto":{"type":"object","properties":{"first_name":{"type":"string","minLength":3,"maxLength":20,"pattern":"/^[а-яА-ЯїЇєЄіІa-zA-Z]+$/","description":"Users first name","example":"Іван"},"last_name":{"type":"string","minLength":3,"maxLength":20,"pattern":"/^[а-яА-ЯїЇєЄіІa-zA-Z]+$/","description":"Users last name","example":"Петренко"},"email":{"type":"string","pattern":"/^[\\w-]+(\\.[\\w-]+)*@([\\w-]+\\.)+[a-zA-Z]{2,7}$/","example":"customer@gmail.com"},"phone":{"type":"string","description":"User phone number","example":"+381234567000"},"clinicIds":{"type":"array","items":{"type":"number"}},"serviceIds":{"type":"array","items":{"type":"number"}}},"required":["first_name","last_name","email","phone","clinicIds","serviceIds"]},"UpdateDoctorDto":{"type":"object","properties":{"firstName":{"type":"string"},"lastName":{"type":"string"},"clinicIds":{"type":"array","items":{"type":"number"}},"serviceIds":{"type":"array","items":{"type":"number"}}}},"CreateServiceDto":{"type":"object","properties":{"name":{"type":"string"},"description":{"type":"string"}},"required":["name"]}}}}